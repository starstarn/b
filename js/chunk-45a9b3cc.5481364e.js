(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45a9b3cc"],{"083b":function(t,e,n){},5778:function(t,e,n){},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t="millisecond",e="second",n="minute",i="hour",a="day",s="week",r="month",o="quarter",c="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,d=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},h={s:f,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+f(i,2,"0")+":"+f(a,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),a=e.clone().add(i,r),s=n-a<0,o=e.clone().add(i+(s?-1:1),r);return+(-(i+(n-a)/(s?a-o:o-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:r,y:c,w:s,d:a,D:u,h:i,m:n,s:e,ms:t,Q:o}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",p={};p[v]=m;var g=function(t){return t instanceof _},C=function(t,e,n){var i;if(!t)return v;if("string"==typeof t)p[t]&&(i=t),e&&(p[t]=e,i=t);else{var a=t.name;p[a]=t,i=a}return!n&&i&&(v=i),i||!n&&v},$=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},w=h;w.l=C,w.i=g,w.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function m(t){this.$L=C(t.locale,null,!0),this.parse(t)}var f=m.prototype;return f.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(l);if(i){var a=i[2]-1||0,s=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},f.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},f.$utils=function(){return w},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(t,e){var n=$(t);return this.startOf(e)<=n&&n<=this.endOf(e)},f.isAfter=function(t,e){return $(t)<this.startOf(e)},f.isBefore=function(t,e){return this.endOf(e)<$(t)},f.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(t,o){var l=this,d=!!w.u(o)||o,m=w.p(t),f=function(t,e){var n=w.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return d?n:n.endOf(a)},h=function(t,e){return w.w(l.toDate()[t].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},v=this.$W,p=this.$M,g=this.$D,C="set"+(this.$u?"UTC":"");switch(m){case c:return d?f(1,0):f(31,11);case r:return d?f(1,p):f(0,p+1);case s:var $=this.$locale().weekStart||0,_=(v<$?v+7:v)-$;return f(d?g-_:g+(6-_),p);case a:case u:return h(C+"Hours",0);case i:return h(C+"Minutes",1);case n:return h(C+"Seconds",2);case e:return h(C+"Milliseconds",3);default:return this.clone()}},f.endOf=function(t){return this.startOf(t,!1)},f.$set=function(s,o){var l,d=w.p(s),m="set"+(this.$u?"UTC":""),f=(l={},l[a]=m+"Date",l[u]=m+"Date",l[r]=m+"Month",l[c]=m+"FullYear",l[i]=m+"Hours",l[n]=m+"Minutes",l[e]=m+"Seconds",l[t]=m+"Milliseconds",l)[d],h=d===a?this.$D+(o-this.$W):o;if(d===r||d===c){var v=this.clone().set(u,1);v.$d[f](h),v.init(),this.$d=v.set(u,Math.min(this.$D,v.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},f.set=function(t,e){return this.clone().$set(t,e)},f.get=function(t){return this[w.p(t)]()},f.add=function(t,o){var u,l=this;t=Number(t);var d=w.p(o),m=function(e){var n=$(l);return w.w(n.date(n.date()+Math.round(e*t)),l)};if(d===r)return this.set(r,this.$M+t);if(d===c)return this.set(c,this.$y+t);if(d===a)return m(1);if(d===s)return m(7);var f=(u={},u[n]=6e4,u[i]=36e5,u[e]=1e3,u)[d]||1,h=this.$d.getTime()+t*f;return w.w(h,this)},f.subtract=function(t,e){return this.add(-1*t,e)},f.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=w.z(this),a=this.$locale(),s=this.$H,r=this.$m,o=this.$M,c=a.weekdays,u=a.months,l=function(t,i,a,s){return t&&(t[i]||t(e,n))||a[i].substr(0,s)},m=function(t){return w.s(s%12||12,t,"0")},f=a.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:l(a.monthsShort,o,u,3),MMMM:l(u,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(a.weekdaysMin,this.$W,c,2),ddd:l(a.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(s),HH:w.s(s,2,"0"),h:m(1),hh:m(2),a:f(s,r,!0),A:f(s,r,!1),m:String(r),mm:w.s(r,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:i};return n.replace(d,(function(t,e){return e||h[t]||i.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(t,u,l){var d,m=w.p(u),f=$(t),h=6e4*(f.utcOffset()-this.utcOffset()),v=this-f,p=w.m(this,f);return p=(d={},d[c]=p/12,d[r]=p,d[o]=p/3,d[s]=(v-h)/6048e5,d[a]=(v-h)/864e5,d[i]=v/36e5,d[n]=v/6e4,d[e]=v/1e3,d)[m]||v,l?p:w.a(p)},f.daysInMonth=function(){return this.endOf(r).$D},f.$locale=function(){return p[this.$L]},f.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=C(t,e,!0);return i&&(n.$L=i),n},f.clone=function(){return w.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},m}(),S=_.prototype;return $.prototype=S,[["$ms",t],["$s",e],["$m",n],["$H",i],["$W",a],["$M",r],["$y",c],["$D",u]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t(e,_,$),$},$.locale=C,$.isDayjs=g,$.unix=function(t){return $(1e3*t)},$.en=p[v],$.Ls=p,$.p={},$}))},"6fd2":function(t,e,n){"use strict";n("cfd7")},9465:function(t,e,n){"use strict";n("f94f")},add5:function(t,e,n){"use strict";n("5778")},ae40:function(t,e,n){var i=n("83ab"),a=n("d039"),s=n("5135"),r=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(s(o,t))return o[t];e||(e={});var n=[][t],u=!!s(e,"ACCESSORS")&&e.ACCESSORS,l=s(e,0)?e[0]:c,d=s(e,1)?e[1]:void 0;return o[t]=!!n&&!a((function(){if(u&&!i)return!0;var t={length:-1};u?r(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,l,d)}))}},b96c:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"navbar-wrapper"},[n("nav-bar",{attrs:{userInfo:t.userInfo}})],1),t.videoData?n("div",{staticClass:"video-wrapper"},[n("div",{staticClass:"video-player"},[n("video",{attrs:{src:t.videoData.content,controls:""}})]),n("van-collapse",{attrs:{border:!1},on:{change:t.onChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("div",{staticClass:"videoinfo"},[n("van-collapse-item",{attrs:{title:t.videoData.name,name:"1"},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"video-title",class:{"title-wrap":t.titleWrap}},[n("span",{staticClass:"video-type"},[t._v(t._s(t.videoData.category.title))]),t._v(" "),t._v(" "+t._s(t.videoData.name)+" ")]),n("div",{staticClass:"video-moreinfo"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-UPzhu"}})]),n("span",{staticClass:"up"},[t._v(t._s(t.videoData.userinfo.name))]),n("span",{staticClass:"play-count"},[t._v("1865万观看")]),n("span",{staticClass:"danmu"},[t._v("1.8万弹幕")]),n("span",{staticClass:"date"},[t._v(t._s(t.videoData.date))])])]},proxy:!0}],null,!1,3247998711)},[n("div",{staticClass:"video-collapse"},[t._v(" 这是视频简介啦"),n("br"),t._v(" 是视频简介啦"),n("br"),t._v(" 视频简介啦"),n("br"),t._v(" 频简介啦"),n("br")])]),n("div",{staticClass:"video-operation"},[n("div",{staticClass:"operation-left"},[n("div",{staticClass:"zan",on:{click:function(e){t.zanSelected=!t.zanSelected}}},[t.zanSelected?n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-zan-selected"}})]):n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-zan"}})]),t._v(" 点赞 ")]),n("div",{staticClass:"collection",on:{click:t.onCollectionClick}},[t.collectionSelected?n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-collection-selected"}})]):n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-collection"}})]),t._v(" 收藏 ")]),n("div",{staticClass:"download",on:{click:t.download}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-huancun"}})]),t._v(" 缓存 ")])]),n("div",{staticClass:"operation-right",on:{click:t.follow}},[t.isFollowed?n("div",{staticClass:"is-followed"},[t._v("已关注")]):n("div",[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-add"}})]),t._v(" 关注 ")])])])],1)])],1):t._e(),n("div",{staticClass:"commnd-wrapper"},[n("commend",{attrs:{commendData:t.commendData,userInfo:t.userInfo}})],1)])},a=[],s=(n("96cf"),n("1da1")),r=n("0790"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-tabs",{attrs:{sticky:"",animated:"",swipeable:"",color:t.biliColor},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:"相关推荐"}},[i("div",{staticClass:"video-item-wrapper"},t._l(t.commendData,(function(e,n){return i("video-item",{key:n,staticClass:"video-item",attrs:{videoInfo:e},on:{videoClick:t.onVideoClick}})})),1)]),i("van-tab",{attrs:{title:"评论 "+t.comment_count}},[i("div",{staticClass:"commend-wrapper"},[i("div",{staticClass:"user-input"},[t.userInfo&&t.userInfo.user_img?i("img",{attrs:{src:t.userInfo.user_img,alt:""}}):i("img",{attrs:{src:n("0508"),alt:""}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.commendContent,expression:"commendContent"}],ref:"inputEl",attrs:{type:"text",placeholder:"发个友善的评论"},domProps:{value:t.commendContent},on:{focus:t.onInputFocus,input:function(e){e.target.composing||(t.commendContent=e.target.value)}}}),i("span",{on:{click:t.submit}},[t._v("发布")])])]),i("div",{staticClass:"commend-wrapper"},[i("comment-list",{ref:"commentList",on:{commentLength:t.commentLength,replyClick:t.onReplyClick}})],1)])],1)],1)},c=[],u=n("5fdc"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.commentList?i("div",t._l(t.commentList,(function(e,a){return i("div",{key:a,staticClass:"comment-item"},[i("div",{staticClass:"comment-lv1"},[i("div",{staticClass:"left"},[e.userinfo&&e.userinfo.user_img?i("img",{attrs:{src:e.userinfo.user_img,alt:""}}):i("img",{attrs:{src:n("0508"),alt:""}})]),i("div",{staticClass:"right"},[i("div",{staticClass:"comment-info"},[i("div",{staticClass:"info-left"},[e.userinfo?i("p",{staticClass:"user-name"},[t._v(" "+t._s(e.userinfo.name||"无名氏")+" ")]):t._e(),i("p",{staticClass:"date"},[t._v(t._s(e.comment_date||"no time"))])]),i("div",{staticClass:"info-right"},[i("span",{staticClass:"reply",on:{click:function(n){return t.$emit("replyClick",e.comment_id)}}},[t._v("...")])])]),i("div",{staticClass:"comment-content"},[t._v(" "+t._s(e.comment_content)+" ")]),i("div",{staticClass:"comment-operation"},[i("div",{staticClass:"comment-zan",on:{click:t.onZanSelected}},[t.zanSelected?i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-zan2-selected-copy"}})]):i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-zan2"}})]),i("span",{class:{"selected-color":t.zanSelected}},[t._v(t._s(t.zanNum))])]),i("div",{staticClass:"comment-cai",on:{click:function(e){t.caiSelected=!t.caiSelected}}},[t.caiSelected?i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-cai-selected"}})]):i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-cai"}})])]),i("div",{staticClass:"comment-forward",on:{click:function(e){t.forward=!t.forward}}},[t.forward?i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-forward-selected"}})]):i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-forward"}})])]),i("div",{staticClass:"comment-qipao",on:{click:function(e){t.qipaoSelected=!t.qipaoSelected}}},[t.qipaoSelected?i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-qipao-selected"}})]):i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-qipao"}})])])])])]),i("div",{staticClass:"nested-comment"},[i("nested-comment",{attrs:{"comment-children":e.children},on:{sendCommentID:t.onSendCommendID}})],1)])})),0):t._e()},d=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},t._l(t.commentChildren,(function(e,i){return n("div",{key:i,staticClass:"comment-item"},[n("div",{staticClass:"current-level",on:{click:function(n){return t.sendCommentID(e.comment_id)}}},[n("div",{staticClass:"comment"})])])})),0)},f=[],h={name:"nestedComment",props:["commentChildren","isLevel3"],methods:{sendCommentID:function(t){this.$emit("sendCommentID",t)},continueSendID:function(t){this.sendCommentID(t)}}},v=h,p=(n("add5"),n("2877")),g=Object(p["a"])(v,m,f,!1,null,"1977bc2b",null),C=g.exports,$={data:function(){return{commentList:null,zanSelected:!1,zanNum:2356,caiSelected:!1,forward:!1,qipaoSelected:!1}},components:{NestedComment:C},methods:{onZanSelected:function(){this.zanSelected=!this.zanSelected,this.zanSelected?this.zanNum++:this.zanNum--},onSendCommendID:function(t){this.$emit("replyClick",t)},getCommentData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/comment/"+t.$route.params.id);case 2:n=e.sent,t.commentList=t.changeToTree(n.data),t.$emit("commentLength",n.data.length),console.log(t.commentList[2]);case 6:case"end":return e.stop()}}),e)})))()},changeToTree:function(t){function e(n){for(var i=[],a=0;a<t.length;a++)t[a].parent_id==n&&(i.push(t[a]),t[a].children=e(t[a].comment_id));return i}return e(null)}},created:function(){this.getCommentData()}},w=$,_=(n("9465"),Object(p["a"])(w,l,d,!1,null,"43cede3c",null)),S=_.exports,D=n("5a0c"),b=n.n(D),k={data:function(){return{active:0,commendContent:"",comment_count:0,commentModel:{comment_content:"",comment_date:"",parent_id:null,article_id:""},biliColor:"#fb7299"}},components:{VideoItem:u["a"],CommentList:S},props:["commendData","userInfo"],methods:{onReplyClick:function(t){console.log(t),this.$refs.inputEl.focus(),this.commentModel.parent_id=t},commentLength:function(t){this.comment_count=t},onVideoClick:function(t){this.$route.params.id!=t&&this.$router.push("/videoDetail/"+t)},submit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.userInfo){e.next=3;break}return t.$toast.fail("请先登录"),e.abrupt("return");case 3:if(/^.{1,100}$/.test(t.commendContent)){e.next=7;break}return console.log("校验失败"),t.$toast.fail("不能超过100个字符"),e.abrupt("return");case 7:return t.commentModel.comment_content=t.commendContent,t.commentModel.comment_date=b()().format("MM-DD"),t.commentModel.article_id=t.$route.params.id,console.log(t.commentModel),e.next=13,t.$http.post("/comment_post/"+localStorage.getItem("id"),t.commentModel);case 13:n=e.sent,console.log(n),n.data.code?t.$toast.fail(n.data.msg):(t.$toast.success("发表成功"),t.$refs.commentList.getCommentData(),t.commendContent=""),t.parent_id=null;case 17:case"end":return e.stop()}}),e)})))()},onInputFocus:function(){this.userInfo||this.$toast.fail("请先登录")}}},y=k,x=(n("6fd2"),Object(p["a"])(y,o,c,!1,null,"67f29c5a",null)),M=x.exports,I={data:function(){return{videoData:void 0,activeNames:[],titleWrap:!0,zanSelected:!1,collectionSelected:!1,commendData:void 0,userInfo:null,isFollowed:!1}},components:{NavBar:r["a"],Commend:M},methods:{isLogin:function(){return!!this.userInfo||(this.$toast.fail("请先登录"),!1)},initFollow:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.videoData),e.next=3,t.$http.get("/sub_scription/"+localStorage.getItem("id"),{params:{sub_id:t.videoData.userid}});case 3:n=e.sent,console.log(n),!1===n.data.success?t.isFollowed=!1:!0===n.data.success&&(t.isFollowed=!0);case 6:case"end":return e.stop()}}),e)})))()},follow:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLogin()){e.next=2;break}return e.abrupt("return");case 2:return t.isFollowed=!t.isFollowed,e.next=5,t.$http.post("/sub_scription/"+localStorage.getItem("id"),{sub_id:t.videoData.userid});case 5:n=e.sent,console.log(n),"关注成功"===n.data.msg?t.isFollowed=!0:"取消关注成功"===n.data.msg&&(t.isFollowed=!1);case 8:case"end":return e.stop()}}),e)})))()},initCollection:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/collection/"+localStorage.getItem("id"),{params:{article_id:t.$route.params.id}});case 2:n=e.sent,!1===n.data.success?t.collectionSelected=!1:!0===n.data.success&&(t.collectionSelected=!0);case 4:case"end":return e.stop()}}),e)})))()},onCollectionClick:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLogin()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.post("/collection/"+localStorage.getItem("id"),{article_id:t.$route.params.id});case 4:n=e.sent,"收藏成功"===n.data.msg?t.collectionSelected=!0:"取消收藏成功"===n.data.msg&&(t.collectionSelected=!1);case 6:case"end":return e.stop()}}),e)})))()},getUserInfo:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user/"+localStorage.getItem("id"));case 2:n=e.sent,t.userInfo=n.data[0];case 4:case"end":return e.stop()}}),e)})))()},getVideoData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/article/"+t.$route.params.id);case 2:n=e.sent,t.videoData=n.data[0],t.initFollow();case 5:case"end":return e.stop()}}),e)})))()},onChange:function(){this.titleWrap=!this.titleWrap},download:function(){window.open(this.videoData.content)},getRecommend:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/commend");case 2:n=e.sent,t.commendData=n.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.getVideoData(),this.getRecommend(),localStorage.getItem("token")&&localStorage.getItem("id")&&(this.getUserInfo(),this.initCollection())},watch:{$route:function(){this.getVideoData(),this.getRecommend(),this.initCollection()}}},O=I,R=(n("cef4"),Object(p["a"])(O,i,a,!1,null,"bf25031a",null));e["default"]=R.exports},cef4:function(t,e,n){"use strict";n("083b")},cfd7:function(t,e,n){},f94f:function(t,e,n){}}]);
//# sourceMappingURL=chunk-45a9b3cc.5481364e.js.map